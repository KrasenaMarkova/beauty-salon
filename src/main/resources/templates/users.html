<!DOCTYPE html>
<html lang="bg" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Å–∏—á–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏</title>
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    <link rel="stylesheet" type="text/css" href="/css/admin.css">
</head>
<body>

<!-- –ì–æ—Ä–Ω–∞ –ª–µ–Ω—Ç–∞ -->
<div class="top-header">
    <div class="contact">üìû 0888 123 456</div>
    <div class="address">üìç –≥—Ä. –†—É—Å–µ, –±—É–ª. –ö—Ä–∞—Å–æ—Ç–∞ 19</div>
</div>

<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<header class="info">
    <nav>
        <ul>
            <li><a th:href="@{/home}">‚¨Ö –ù–∞–∑–∞–¥ –∫—ä–º –Ω–∞—á–∞–ª–æ—Ç–æ</a></li>
            <li><a th:href="@{/logout}">–ò–∑—Ö–æ–¥</a></li>
        </ul>
    </nav>
</header>

<!-- –ó–∞–≥–ª–∞–≤–∏–µ -->
<section class="hero">
    <div class="hero-text">
        <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ üë•</h1>
        <p>–ü—Ä–µ–≥–ª–µ–¥, —Ä–µ–¥–∞–∫—Ü–∏—è –∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏</p>
    </div>
</section>

<main class="container">

    <section class="users-list">
        <h2>–í—Å–∏—á–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏</h2>

        <!-- –ê–∫–æ –Ω—è–º–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ -->
        <div th:if="${#lists.isEmpty(users)}" class="no-users">
            <p>–í—Å–µ –æ—â–µ –Ω—è–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏.</p>
        </div>

        <!-- –¢–∞–±–ª–∏—Ü–∞ —Å –≤—Å–∏—á–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ -->
        <table th:if="${!#lists.isEmpty(users)}">
            <thead>
            <tr>
                <th>ID</th>
                <th>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ –∏–º–µ</th>
                <th>–ò–º–µ</th>
                <th>–ò–º–µ–π–ª</th>
                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                <th>–†–æ–ª—è</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∞</th>
                <th>–ë—Ä–æ–π —á–∞—Å–æ–≤–µ</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user : ${users}">
                <td th:text="${user.id}">UUID</td>
                <td th:text="${user.username}">username</td>
                <td th:text="${user.firstName + ' ' + user.lastName}">–ò–º–µ –§–∞–º–∏–ª–∏—è</td>
                <td th:text="${user.email}">email@example.com</td>
                <td th:text="${user.phone}">0888123456</td>
                <td th:text="${user.userRole.getDisplayName()}">CLIENT</td>
                <td>
                    <p th:if="${user.active}" class="status active">–ê–∫—Ç–∏–≤–µ–Ω</p>
                    <p th:if="${!user.active}" class="status terminated">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</p>
                </td>
                <td>
                    <form th:action="@{'/admin/users/' + ${user.id} + '/toggle-status'}" method="post" style="display:inline;">
                        <button type="submit"
                                th:text="${user.active ? '–î–µ–∞–∫—Ç–∏–≤–∏—Ä–∞–π' : '–ê–∫—Ç–∏–≤–∏—Ä–∞–π'}"
                                th:class="${user.active ? 'btn btn-inactive' : 'btn btn-active'}">
                        </button>
                    </form>

                </td>
                <td th:text="${#lists.size(user.appointments)}">2</td>
                <td>
                    <form th:action="@{'/admin/users/' + ${user.id} + '/delete'}" method="post" style="display:inline;">
                        <button type="submit" class="btn btn-delete" onclick="return confirm('–°–∏–≥—É—Ä–Ω–∏ –ª–∏ —Å—Ç–µ, —á–µ –∏—Å–∫–∞—Ç–µ –¥–∞ –∏–∑—Ç—Ä–∏–µ—Ç–µ —Ç–æ–∑–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª?');">üóë –ò–∑—Ç—Ä–∏–π</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </section>

</main>

<footer>
    <p>¬© 2025 –°–∞–ª–æ–Ω –∑–∞ –∫—Ä–∞—Å–æ—Ç–∞ "Bellezza" | <a th:href="@{/about-us}">–ó–∞ –Ω–∞—Å</a></p>
</footer>

</body>
</html>