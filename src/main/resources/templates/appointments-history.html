<!DOCTYPE html>
<html lang="bg" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ò—Å—Ç–æ—Ä–∏—è –Ω–∞ –∑–∞–ø–∏—Å–∞–Ω–∏—Ç–µ —á–∞—Å–æ–≤–µ</title>
  <link rel="stylesheet" type="text/css" href="/css/index.css">
</head>
<body>

<!-- –ì–æ—Ä–Ω–∞ –ª–µ–Ω—Ç–∞ -->
<div class="top-header">
  <div class="contact">üìû 0888 123 456</div>
  <div class="address">üìç –≥—Ä. –†—É—Å–µ, –±—É–ª. –ö—Ä–∞—Å–æ—Ç–∞ 19</div>
</div>

<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<header class="info">
  <nav>
    <ul>
      <li><a th:href="@{/}">–ù–∞—á–∞–ª–æ</a></li>
      <li><a th:href="@{/home}">‚¨Ö –ù–∞–∑–∞–¥ –∫—ä–º –ø—Ä–æ—Ñ–∏–ª–∞</a></li>
      <li><a th:href="@{/logout}">–ò–∑—Ö–æ–¥</a></li>
    </ul>
  </nav>
</header>

<!-- –ó–∞–≥–ª–∞–≤–∏–µ -->
<section class="hero">
  <div class="hero-text">
    <h1>–ò—Å—Ç–æ—Ä–∏—è –Ω–∞ –º–æ–∏—Ç–µ —á–∞—Å–æ–≤–µ üíñ</h1>
    <p>–í–∏–∂—Ç–µ –≤—Å–∏—á–∫–∏ –∑–∞–≤—ä—Ä—à–µ–Ω–∏ –∏ –æ—Ç–º–µ–Ω–µ–Ω–∏ –ø–æ—Å–µ—â–µ–Ω–∏—è</p>
  </div>
</section>

<main class="container" style="padding: 20px;">

  <!-- –¢–∞–±–ª–∏—Ü–∞ —Å –∏—Å—Ç–æ—Ä–∏—è—Ç–∞ –Ω–∞ —á–∞—Å–æ–≤–µ—Ç–µ -->
  <section class="appointments-history" style="width: 100%;">
    <h2 style="text-align: center; margin-bottom: 20px;">–ú–æ–∏—Ç–µ –º–∏–Ω–∞–ª–∏ —á–∞—Å–æ–≤–µ</h2>

    <!-- –ê–∫–æ –Ω—è–º–∞ –º–∏–Ω–∞–ª–∏ —á–∞—Å–æ–≤–µ -->
    <div th:if="${#lists.isEmpty(pastAppointments)}" class="no-appointments"
         style="text-align: center; margin-top: 30px;">
      <p>–í—Å–µ –æ—â–µ –Ω—è–º–∞—Ç–µ –∑–∞–≤—ä—Ä—à–µ–Ω–∏ –∏–ª–∏ –æ—Ç–º–µ–Ω–µ–Ω–∏ —á–∞—Å–æ–≤–µ.</p>
      <a class="btn" th:href="@{/booking}" style="margin-top: 10px;">–ó–∞–ø–∞–∑–∏ –Ω–æ–≤ —á–∞—Å</a>
    </div>

    <!-- –¢–∞–±–ª–∏—Ü–∞ —Å –º–∏–Ω–∞–ª–∏ —á–∞—Å–æ–≤–µ -->
    <div th:if="${!#lists.isEmpty(pastAppointments)}" style="overflow-x:auto;">
      <table style="width: 100%; border-collapse: collapse; min-width: 800px;">
        <thead>
        <tr style="background-color: #f7c6d9; color: #4a004e; text-align: center;">
          <th style="padding: 12px;">–î–∞—Ç–∞ –∏ —á–∞—Å</th>
          <th style="padding: 12px;">–£—Å–ª—É–≥–∞</th>
          <!--          <th style="padding: 12px;">–°–ª—É–∂–∏—Ç–µ–ª</th>-->
          <th style="padding: 12px;">–ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç</th>
          <th style="padding: 12px;">–¶–µ–Ω–∞</th>
          <th style="padding: 12px;">–°—Ç–∞—Ç—É—Å</th>
          <th style="padding: 12px;">–ò–∑—Ç—Ä–∏–π</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="appointment : ${pastAppointments}"
            style="background-color: #fff0f5; border-bottom: 1px solid #f0a6c4;">
          <!--          <td style="padding: 10px;" th:text="${#temporals.format(appointment.appointmentDate, 'dd.MM.yyyy HH:mm')}">11.01.2025 11:00</td>-->
          <td th:text="${#temporals.format(appointment.appointmentDate, 'dd.MM.yyyy HH:mm')}"></td>
          <td style="padding: 10px;"
              th:text="${appointment.treatment != null ? appointment.treatment.beautyTreatmentName.displayName : '‚Äì'}">
            –£—Å–ª—É–≥–∞
          </td>
          <!--          <td style="padding: 10px;" th:text="${appointment.employee != null ? appointment.employee.firstName + ' ' + appointment.employee.lastName : '‚Äì'}">–°–ª—É–∂–∏—Ç–µ–ª</td>-->
          <td style="padding: 10px;" th:text="${appointment.durationMinutes + ' –º–∏–Ω.'}">60 –º–∏–Ω.</td>
          <td style="padding: 10px;" th:text="${appointment.price + ' –ª–≤.'}">50 –ª–≤.</td>
          <td style="padding: 10px;">
            <span th:if="${appointment.status.name() == 'SCHEDULED'}" class="status-scheduled"
                  th:text="${appointment.status.displayName}"></span>
            <span th:if="${appointment.status.name() == 'CANCELLED'}" class="status-cancelled"
                  th:text="'Cancelled'"></span>
            <span th:if="${appointment.status.name() == 'COMPLETED'}" class="status-completed"
                  th:text="'Completed'"></span>
          </td>

          <!-- –ù–æ–≤–∞ –∫–æ–ª–æ–Ω–∞ –∑–∞ –±—É—Ç–æ–Ω –ò–∑—Ç—Ä–∏–π -->
          <td style="text-align: center;">
            <form th:action="@{'/appointments/' + ${appointment.id} + '/delete'}" th:method="POST"
                  onsubmit="return confirm('–°–∏–≥—É—Ä–Ω–∏ –ª–∏ —Å—Ç–µ, —á–µ –∏—Å–∫–∞—Ç–µ –¥–∞ –∏–∑—Ç—Ä–∏–µ—Ç–µ —Ç–æ–∑–∏ —á–∞—Å?');">
              <button type="submit" class="edit-btn">üóëÔ∏è –ò–∑—Ç—Ä–∏–π</button>
            </form>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

  </section>

</main>

<th:block th:insert="~{fragments/footer :: my-footer}"></th:block>

</body>
</html>